<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# errors

```go
import "github.com/thekrauss/beto-shared/pkg/errors"
```

## Index

- [Constants](<#constants>)
- [func Is\(err error, code string\) bool](<#Is>)
- [func ToGRPCError\(err error\) error](<#ToGRPCError>)
- [func ToHTTPError\(err error\) \(int, \[\]byte\)](<#ToHTTPError>)
- [type Error](<#Error>)
  - [func New\(code string, message string\) \*Error](<#New>)
  - [func NewDBConflict\(entity string\) \*Error](<#NewDBConflict>)
  - [func NewDBError\(cause error\) \*Error](<#NewDBError>)
  - [func NewDBNotFound\(entity string\) \*Error](<#NewDBNotFound>)
  - [func NewKeystoneAuthFailed\(cause error\) \*Error](<#NewKeystoneAuthFailed>)
  - [func NewKeystoneForbidden\(\) \*Error](<#NewKeystoneForbidden>)
  - [func NewKeystoneTokenInvalid\(\) \*Error](<#NewKeystoneTokenInvalid>)
  - [func NewNeutronError\(cause error\) \*Error](<#NewNeutronError>)
  - [func NewNeutronIPConflict\(ip string\) \*Error](<#NewNeutronIPConflict>)
  - [func NewNeutronNotFound\(resource string\) \*Error](<#NewNeutronNotFound>)
  - [func NewNovaError\(cause error\) \*Error](<#NewNovaError>)
  - [func NewNovaNotFound\(resource string\) \*Error](<#NewNovaNotFound>)
  - [func NewNovaQuotaExceeded\(resource string\) \*Error](<#NewNovaQuotaExceeded>)
  - [func Newf\(code string, format string, args ...any\) \*Error](<#Newf>)
  - [func Wrap\(cause error, code string, message string\) \*Error](<#Wrap>)
  - [func \(e \*Error\) Error\(\) string](<#Error.Error>)
  - [func \(e \*Error\) Unwrap\(\) error](<#Error.Unwrap>)
- [type HTTPErrorResponse](<#HTTPErrorResponse>)


## Constants

<a name="CodeInternal"></a>Codes globaux

```go
const (
    CodeInternal     = "INTERNAL_ERROR"
    CodeUnauthorized = "UNAUTHORIZED"
    CodeForbidden    = "FORBIDDEN"
    CodeNotFound     = "NOT_FOUND"
    CodeConflict     = "CONFLICT"
    CodeInvalidInput = "INVALID_INPUT"
    CodeTimeout      = "TIMEOUT"
)
```

<a name="CodeDBError"></a>Codes DB

```go
const (
    CodeDBError    = "DB_ERROR"
    CodeDBNotFound = "DB_NOT_FOUND"
    CodeDBConflict = "DB_CONFLICT"
)
```

<a name="CodeKeystoneAuthFailed"></a>Codes OpenStack \- Keystone

```go
const (
    CodeKeystoneAuthFailed   = "KEYSTONE_AUTH_FAILED"
    CodeKeystoneTokenInvalid = "KEYSTONE_TOKEN_INVALID"
    CodeKeystoneForbidden    = "KEYSTONE_FORBIDDEN"
)
```

<a name="CodeNovaError"></a>Codes OpenStack \- Nova

```go
const (
    CodeNovaError       = "NOVA_ERROR"
    CodeNovaNotFound    = "NOVA_NOT_FOUND"
    CodeNovaQuotaExceed = "NOVA_QUOTA_EXCEEDED"
)
```

<a name="CodeNeutronError"></a>Codes OpenStack \- Neutron

```go
const (
    CodeNeutronError      = "NEUTRON_ERROR"
    CodeNeutronNotFound   = "NEUTRON_NOT_FOUND"
    CodeNeutronIPConflict = "NEUTRON_IP_CONFLICT"
)
```

<a name="Is"></a>
## func Is

```go
func Is(err error, code string) bool
```

permet de comparer un code d’erreur

<a name="ToGRPCError"></a>
## func ToGRPCError

```go
func ToGRPCError(err error) error
```

convertit une erreur en gRPC status.Error

<a name="ToHTTPError"></a>
## func ToHTTPError

```go
func ToHTTPError(err error) (int, []byte)
```

convertit une erreur en \(statusCode, body JSON\)

<a name="Error"></a>
## type Error



```go
type Error struct {
    Code    string `json:"code"`
    Message string `json:"message"`
    Cause   error  `json:"-"` // erreur technique interne
}
```

<a name="New"></a>
### func New

```go
func New(code string, message string) *Error
```

crée une nouvelle erreur simple

<a name="NewDBConflict"></a>
### func NewDBConflict

```go
func NewDBConflict(entity string) *Error
```



<a name="NewDBError"></a>
### func NewDBError

```go
func NewDBError(cause error) *Error
```



<a name="NewDBNotFound"></a>
### func NewDBNotFound

```go
func NewDBNotFound(entity string) *Error
```



<a name="NewKeystoneAuthFailed"></a>
### func NewKeystoneAuthFailed

```go
func NewKeystoneAuthFailed(cause error) *Error
```

Keystone

<a name="NewKeystoneForbidden"></a>
### func NewKeystoneForbidden

```go
func NewKeystoneForbidden() *Error
```



<a name="NewKeystoneTokenInvalid"></a>
### func NewKeystoneTokenInvalid

```go
func NewKeystoneTokenInvalid() *Error
```



<a name="NewNeutronError"></a>
### func NewNeutronError

```go
func NewNeutronError(cause error) *Error
```

Neutron

<a name="NewNeutronIPConflict"></a>
### func NewNeutronIPConflict

```go
func NewNeutronIPConflict(ip string) *Error
```



<a name="NewNeutronNotFound"></a>
### func NewNeutronNotFound

```go
func NewNeutronNotFound(resource string) *Error
```



<a name="NewNovaError"></a>
### func NewNovaError

```go
func NewNovaError(cause error) *Error
```

Nova

<a name="NewNovaNotFound"></a>
### func NewNovaNotFound

```go
func NewNovaNotFound(resource string) *Error
```



<a name="NewNovaQuotaExceeded"></a>
### func NewNovaQuotaExceeded

```go
func NewNovaQuotaExceeded(resource string) *Error
```



<a name="Newf"></a>
### func Newf

```go
func Newf(code string, format string, args ...any) *Error
```

crée une nouvelle erreur avec message formaté

<a name="Wrap"></a>
### func Wrap

```go
func Wrap(cause error, code string, message string) *Error
```

enrobe une erreur existante

<a name="Error.Error"></a>
### func \(\*Error\) Error

```go
func (e *Error) Error() string
```



<a name="Error.Unwrap"></a>
### func \(\*Error\) Unwrap

```go
func (e *Error) Unwrap() error
```

compatibilité avec errors.Is / errors.As

<a name="HTTPErrorResponse"></a>
## type HTTPErrorResponse

la réponse JSON standardisée

```go
type HTTPErrorResponse struct {
    Code    string `json:"code"`
    Message string `json:"message"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
