<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# storage

```go
import "github.com/thekrauss/beto-shared/pkg/storage"
```

## Index

- [type Config](<#Config>)
- [type MinIOBackend](<#MinIOBackend>)
  - [func NewMinIOBackend\(endpoint, accessKey, secretKey string, useSSL bool\) \(\*MinIOBackend, error\)](<#NewMinIOBackend>)
  - [func \(m \*MinIOBackend\) CreateBucket\(ctx context.Context, name string\) error](<#MinIOBackend.CreateBucket>)
  - [func \(m \*MinIOBackend\) DeleteObject\(ctx context.Context, bucket, objectName string\) error](<#MinIOBackend.DeleteObject>)
  - [func \(m \*MinIOBackend\) DownloadObject\(ctx context.Context, bucket, objectName string\) \(\[\]byte, error\)](<#MinIOBackend.DownloadObject>)
  - [func \(m \*MinIOBackend\) ListObjects\(ctx context.Context, bucket string\) \(\[\]string, error\)](<#MinIOBackend.ListObjects>)
  - [func \(m \*MinIOBackend\) UploadObject\(ctx context.Context, bucket, objectName string, content \[\]byte\) error](<#MinIOBackend.UploadObject>)
- [type ObjectStorageBackend](<#ObjectStorageBackend>)
  - [func NewObjectStorage\(cfg Config\) \(ObjectStorageBackend, error\)](<#NewObjectStorage>)
- [type SwiftClient](<#SwiftClient>)
  - [func NewSwiftClient\(provider \*gophercloud.ProviderClient, region string\) \(\*SwiftClient, error\)](<#NewSwiftClient>)
  - [func \(c \*SwiftClient\) CreateBucket\(ctx context.Context, name string\) error](<#SwiftClient.CreateBucket>)
  - [func \(c \*SwiftClient\) DeleteObject\(ctx context.Context, bucket, objectName string\) error](<#SwiftClient.DeleteObject>)
  - [func \(c \*SwiftClient\) DownloadObject\(ctx context.Context, bucket, objectName string\) \(\[\]byte, error\)](<#SwiftClient.DownloadObject>)
  - [func \(c \*SwiftClient\) ListObjects\(ctx context.Context, bucket string\) \(\[\]string, error\)](<#SwiftClient.ListObjects>)
  - [func \(c \*SwiftClient\) UploadObject\(ctx context.Context, bucket, objectName string, content \[\]byte\) error](<#SwiftClient.UploadObject>)


<a name="Config"></a>
## type Config

Config générique pour sélectionner le backend

```go
type Config struct {
    Backend string // "swift" ou "minio"

    // Swift
    Region   string
    Provider *gophercloud.ProviderClient

    // MinIO
    Endpoint  string
    AccessKey string
    SecretKey string
    UseSSL    bool
}
```

<a name="MinIOBackend"></a>
## type MinIOBackend



```go
type MinIOBackend struct {
    // contains filtered or unexported fields
}
```

<a name="NewMinIOBackend"></a>
### func NewMinIOBackend

```go
func NewMinIOBackend(endpoint, accessKey, secretKey string, useSSL bool) (*MinIOBackend, error)
```

initialise un client MinIO

<a name="MinIOBackend.CreateBucket"></a>
### func \(\*MinIOBackend\) CreateBucket

```go
func (m *MinIOBackend) CreateBucket(ctx context.Context, name string) error
```

crée un "bucket"

<a name="MinIOBackend.DeleteObject"></a>
### func \(\*MinIOBackend\) DeleteObject

```go
func (m *MinIOBackend) DeleteObject(ctx context.Context, bucket, objectName string) error
```

supprime un objet

<a name="MinIOBackend.DownloadObject"></a>
### func \(\*MinIOBackend\) DownloadObject

```go
func (m *MinIOBackend) DownloadObject(ctx context.Context, bucket, objectName string) ([]byte, error)
```

télécharge un objet

<a name="MinIOBackend.ListObjects"></a>
### func \(\*MinIOBackend\) ListObjects

```go
func (m *MinIOBackend) ListObjects(ctx context.Context, bucket string) ([]string, error)
```

liste les objets dans un bucket

<a name="MinIOBackend.UploadObject"></a>
### func \(\*MinIOBackend\) UploadObject

```go
func (m *MinIOBackend) UploadObject(ctx context.Context, bucket, objectName string, content []byte) error
```

envoie un objet

<a name="ObjectStorageBackend"></a>
## type ObjectStorageBackend

définit les opérations communes à tout backend de stockage objet

```go
type ObjectStorageBackend interface {
    CreateBucket(ctx context.Context, name string) error
    ListObjects(ctx context.Context, bucket string) ([]string, error)
    UploadObject(ctx context.Context, bucket, objectName string, content []byte) error
    DownloadObject(ctx context.Context, bucket, objectName string) ([]byte, error)
    DeleteObject(ctx context.Context, bucket, objectName string) error
}
```

<a name="NewObjectStorage"></a>
### func NewObjectStorage

```go
func NewObjectStorage(cfg Config) (ObjectStorageBackend, error)
```

retourne une implémentation en fonction de la config

<a name="SwiftClient"></a>
## type SwiftClient

implémente ObjectStorageBackend pour OpenStack Swift

```go
type SwiftClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewSwiftClient"></a>
### func NewSwiftClient

```go
func NewSwiftClient(provider *gophercloud.ProviderClient, region string) (*SwiftClient, error)
```

initialise un client Swift \(Object Storage V1\)

<a name="SwiftClient.CreateBucket"></a>
### func \(\*SwiftClient\) CreateBucket

```go
func (c *SwiftClient) CreateBucket(ctx context.Context, name string) error
```

crée un "container" Swift \(équivalent bucket\)

<a name="SwiftClient.DeleteObject"></a>
### func \(\*SwiftClient\) DeleteObject

```go
func (c *SwiftClient) DeleteObject(ctx context.Context, bucket, objectName string) error
```

supprime un objet dans un bucket

<a name="SwiftClient.DownloadObject"></a>
### func \(\*SwiftClient\) DownloadObject

```go
func (c *SwiftClient) DownloadObject(ctx context.Context, bucket, objectName string) ([]byte, error)
```

télécharge un objet depuis un bucket

<a name="SwiftClient.ListObjects"></a>
### func \(\*SwiftClient\) ListObjects

```go
func (c *SwiftClient) ListObjects(ctx context.Context, bucket string) ([]string, error)
```

retourne la liste des objets dans un bucket

<a name="SwiftClient.UploadObject"></a>
### func \(\*SwiftClient\) UploadObject

```go
func (c *SwiftClient) UploadObject(ctx context.Context, bucket, objectName string, content []byte) error
```

charge un fichier dans un bucket

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
